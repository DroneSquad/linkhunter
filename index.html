<!doctype html>
<html lang="en">
    <head>
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <title>LinkHunter - Detect links that real users actually type.</title>
        <link rel="stylesheet" href="http://fonts.googleapis.com/css?family=Fredoka+One|Sniglet">
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/normalize/3.0.3/normalize.min.css">
        <link rel="stylesheet" href="styles.css">
    </head>

    <body>
        <main class="wrapper drop-shadow">
            <section class="hero">
                <h1>LinkHunter</h1>
                <h2>Detect links that real users actually type.</h2>

                <nav class="nav">
                    <ul>
                        <li><a href="https://github.com/Zhouzi/LinkHunter" class="button">View on Github</a></li>
                        <li><a href="https://twitter.com/home?status=LinkHunter%20-%20Detect%20links%20that%20real%20users%20actually%20type%20http%3A%2F%2Fgabinaureche.com%2FLinkHunter%20via%20%40zh0uzi" target="_blank" class="button">Tweet</a></li>
                    </ul>
                </nav>
            </section>

            <section class="demo">
                <textarea id="demo-textarea" rows="6">LinkHunter's purpose if to match three type of links: emails such as someone@domain.com, urls in the form of http://gabinaureche.com/LinkHunter and finally user-typed urls like twitter.com. It's also able, among other things, to shorten, beautify and replace those links.</textarea>

                <h3 id="demo-title"></h3>
                <ul class="demo-links"></ul>
            </section>
        </main>

        <script>
            (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
                (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
                    m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
            })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

            ga('create', 'UA-43673873-7', 'auto');
            ga('send', 'pageview');
        </script>
        <script src="dist/LinkHunter.min.js"></script>
        <script>
            var linkHunter = new LinkHunter();
            var textarea   = document.getElementById('demo-textarea');
            var demoLinks  = document.getElementsByClassName('demo-links')[0];
            var demoTitle  = document.getElementById('demo-title');

            textarea.addEventListener('input', detect);

            function detect () {
                var links = linkHunter.getLinks(textarea.value, true);
                var html  = '';

                for (var i = 0, link; link = links[i]; i++) {
                    html +=
                        '<li>' +
                            '<a href="'+ (link.type == 'email' ? 'mailto:' + link.original : link.withProtocol()) +'" target="_blank" class="demo-link">' +
                                link.shorten(30) +
                            '</a>' +
                            '<ul class="demo-link__details">' +
                                '<li class="demo-link__details__title">Beautified</li>' +
                                '<li>' + link.beautify(true) + '</li>' +
                            '</ul>' +
                        '</li>';
                }

                demoTitle.innerHTML = 'Hunted <strong>' + links.length + '</strong> link' + (links.length !== 1 ? 's' : '') + ' from the text above';
                demoLinks.innerHTML = html;
            }

            detect();
        </script>
    </body>
</html>
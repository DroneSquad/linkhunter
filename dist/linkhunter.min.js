/*!
 * LinkHunter - v1.1.0
 * Detect links that real users actually type.
 * https://github.com/Zhouzi/LinkHunter
 *
 * @author Gabin Aureche
 * @license MIT
 */

!function(e){function t(n){if(r[n])return r[n].exports;var i=r[n]={exports:{},id:n,loaded:!1};return e[n].call(i.exports,i,i.exports,t),i.loaded=!0,i.exports}var r={};return t.m=e,t.c=r,t.p="",t(0)}([function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}var i=r(1),a=n(i);!function(e){e.linkhunter=a["default"]}(window)},function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var i=r(2),a=n(i),o=r(3),u=n(o),l="(?=[.\"'!?:,;]*(?:\\s|$))",s="(?:[-a-z0-9]{1,255}\\.)+[a-z]{2,10}",f="[^\\s]+@"+s,p="https?://"+s+"[^\\s]*",c=""+s+"[^.\\s\"'!?:,;]*",g={regexps:{email:new RegExp("^"+f+"$","i"),regularUrl:new RegExp("^"+p+"$","i"),userUrl:new RegExp("^"+c+"$","i"),link:new RegExp("^((?:"+f+")|(?:"+p+")|(?:"+c+"))$","i"),links:new RegExp("(^|\\s)((?:"+p+")|(?:(?:"+f+"|(?:"+c+"))"+l+"))","gi")},looksLikeAnEmail:function(e){return g.regexps.email.test(e)},looksLikeALink:function(e){var t=void 0===arguments[1]?!1:arguments[1];return!t&&g.looksLikeAnEmail(e)?!1:g.regexps.link.test(e)},getLinks:function(e){var t=void 0===arguments[1]?!1:arguments[1],r=(e.match(g.regexps.links)||[]).map(function(e){return e.trim()});t||!function(){var e=g;r=r.filter(function(t){return!e.looksLikeAnEmail(t)})}();var n=g;return r.map(function(e){return new a["default"](e,n.looksLikeAnEmail(e))})},replaceLinks:function(e,t){var r=void 0===arguments[2]?g:arguments[2],n=g;return e.replace(g.regexps.links,function(e,i,o){return i+t.call(r,new a["default"](o,n.looksLikeAnEmail(o)))})},linky:function(e){var t=void 0===arguments[1]?{}:arguments[1],r={ignoreEmail:!1,target:null,protocol:"http://",operation:{}};t=u["default"].merge(r,t);var n=t.target?'<a href="{{formatted}}" target="'+t.target+'">{{displayValue}}</a>':'<a href="{{formatted}}">{{displayValue}}</a>',i=void 0;return g.replaceLinks(e,function(e){return i=e.original,t.ignoreEmail&&"email"==e.type?i:("function"==typeof e[t.operation.name]&&(i=e[t.operation.name].apply(e,t.operation.args)),"email"==e.type?'<a href="'+e.withProtocol()+'">'+i+"</a>":n.replace("{{formatted}}",e.withProtocol(t.protocol)).replace("{{displayValue}}",i))},g)}};t["default"]=g,e.exports=t["default"]},function(e,t){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),i=function(){function e(t,n){r(this,e),this.original=t,this.type=n?"email":"url",this.originalHasProtocol="email"!=this.type&&/^https?:\/\//.test(this.original)}return n(e,[{key:"withProtocol",value:function(){var e=void 0===arguments[0]?"http://":arguments[0];return"email"==this.type&&(e="mailto:"),this.originalHasProtocol?this.original:e+this.original}},{key:"cleanUp",value:function(){var e=void 0===arguments[0]?!1:arguments[0],t=this.original;if(e){var r=t.lastIndexOf("?");r>=0&&(t=t.substr(0,r))}return t=t.replace(/^https?:\/\//,"").replace(/\/#?$/,"")}},{key:"shorten",value:function(t){var r=void 0===arguments[1]?!0:arguments[1];if("email"==this.type)return this.original.substr(0,t);var n=r?this.cleanUp():this.original;return n.length<=t?n:(r||(n=this.cleanUp()),e.addEllipsis(n,t))}},{key:"beautify",value:function(){var e=void 0===arguments[0]?!0:arguments[0];if("email"==this.type)return this.original;var t=this.cleanUp(e);if(t.indexOf("/")<0)return t;var r=t.split("/");return r.length>2?r.shift()+"/.../"+r.pop():r.shift()+"/"+r.pop()}}],[{key:"addEllipsis",value:function(e){var t=void 0===arguments[1]?e.length:arguments[1],r=void 0===arguments[2]?"...":arguments[2];return function(){return e.length<=t?e:e.substr(0,t-r.length)+r}()}}]),e}();t["default"]=i,e.exports=t["default"]},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t["default"]={merge:function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);return e}},e.exports=t["default"]}]);